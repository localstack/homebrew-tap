# typed: true
# frozen_string_literal: true

# This file was generated by Homebrew Releaser. DO NOT EDIT.
class LocalstackCli < Formula
  desc "Localstack cli packaged using pyinstaller"
  homepage "https://github.com/localstack/localstack-cli"
  url "https://github.com/localstack/localstack-cli/archive/refs/tags/v4.10.0.tar.gz"
  version "4.10.0"
  sha256 "aed7ff6d3ddeaccb5d94674255d4589d3907fcd0febc4856ec7c3427f7e88459"
  license "NOASSERTION"

  on_macos do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.10.0/localstack-cli-4.10.0-darwin-amd64.tar.gz"
      sha256 "15693abe81191cccaf334a431317dbfb74abb9eae8f74ef58dbd74725540f688"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.10.0/localstack-cli-4.10.0-darwin-arm64.tar.gz"
      sha256 "b0a82dc8db67f6a0ddb70c37cacaf6d564fb84aed22e22ee28cc0d24ab23d6a1"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.10.0/localstack-cli-4.10.0-linux-amd64.tar.gz"
      sha256 "883b24209d31f6d36891ddafd77c57a6dbe2de1fa7d7d5eb741c7f7a217d6e2a"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.10.0/localstack-cli-4.10.0-linux-arm64.tar.gz"
      sha256 "4a0d48def904d929dae128368dca2bfd9807f4a2a2b154848d0b4b779152458f"
    end
  end

  def install
    libexec.install Dir["*"]
        bin.install_symlink libexec/"localstack"
        generate_completions_from_executable(bin/"localstack", "completion")
  end

  test do
    assert_match /LocalStack Command Line Interface/, shell_output("#{bin}/localstack --help", 0)
  end
end
