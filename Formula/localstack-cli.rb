# typed: true
# frozen_string_literal: true

# This file was generated by Homebrew Releaser. DO NOT EDIT.
class LocalstackCli < Formula
  desc "Localstack cli packaged using pyinstaller"
  homepage "https://github.com/localstack/localstack-cli"
  url "https://github.com/localstack/localstack-cli/archive/refs/tags/v4.13.1.tar.gz"
  version "4.13.1"
  sha256 "fe7ad91a0369a8df8d9631b36db44da94bfb992af444ff92c2a0fd11e43239a2"
  license "NOASSERTION"

  on_macos do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.13.1/localstack-cli-4.13.1-darwin-amd64.tar.gz"
      sha256 "5d34503d00946a33a26b5facd127da5485be8ac9b2b3d26c5d6d1befd955b612"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.13.1/localstack-cli-4.13.1-darwin-arm64.tar.gz"
      sha256 "85823811d457b0ddaa41f75d876ca3afda1c0506fd7db35482eb56ddd35f9962"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.13.1/localstack-cli-4.13.1-linux-amd64.tar.gz"
      sha256 "024b6008fc557a04641d772a0cc842ed6f7f748d07d42c08f15b0efa495e264f"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.13.1/localstack-cli-4.13.1-linux-arm64.tar.gz"
      sha256 "52f3dee32a56802b18a63a4208127e0923326a6b7a9e4b9f623d30b83ead0f8c"
    end
  end

  def install
    libexec.install Dir["*"]
        bin.install_symlink libexec/"localstack"
        generate_completions_from_executable(bin/"localstack", "completion")
  end

  test do
    assert_match /LocalStack Command Line Interface/, shell_output("#{bin}/localstack --help", 0)
  end
end
