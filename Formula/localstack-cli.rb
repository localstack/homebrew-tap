# typed: true
# frozen_string_literal: true

# This file was generated by Homebrew Releaser. DO NOT EDIT.
class LocalstackCli < Formula
  desc "Localstack cli packaged using pyinstaller"
  homepage "https://github.com/localstack/localstack-cli"
  url "https://github.com/localstack/localstack-cli/archive/refs/tags/v4.1.0.tar.gz"
  version "4.1.0"
  sha256 "e2a53bd1d7765bd963d8f98816580f9b84414cda8244a63beefc0c475abca356"
  license "NOASSERTION"

  on_macos do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.1.0/localstack-cli-4.1.0-darwin-amd64.tar.gz"
      sha256 "225a2c54d9c51d8784ad49ca3bdc783982b79af86b1a33aa4735676c7be3dd56"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.1.0/localstack-cli-4.1.0-darwin-arm64.tar.gz"
      sha256 "b2d6777732a84f64d1d5b3e98fc182d958bfb1b7872dd7b1421e4e0c6c8fb00a"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.1.0/localstack-cli-4.1.0-linux-amd64.tar.gz"
      sha256 "67f5f9fbaba7de698445ce7d32223dd7ef32e765a22c38e3a473abe16141cf5a"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.1.0/localstack-cli-4.1.0-linux-arm64.tar.gz"
      sha256 "b94b46f0fcd5a32507049b0c65b151ffeba204a658a1f9e3ac08e659448111cd"
    end
  end

  def install
    libexec.install Dir["*"]
    bin.install_symlink libexec/"localstack"
    generate_completions_from_executable(bin/"localstack", "completion")
  end

  test do
    assert_match /LocalStack Command Line Interface/, shell_output("#{bin}/localstack --help", 0)
  end
end
