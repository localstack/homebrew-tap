# typed: true
# frozen_string_literal: true

# This file was generated by Homebrew Releaser. DO NOT EDIT.
class LocalstackCli < Formula
  desc "Localstack cli packaged using pyinstaller"
  homepage "https://github.com/localstack/localstack-cli"
  url "https://github.com/localstack/localstack-cli/archive/refs/tags/v4.9.2.tar.gz"
  version "4.9.2"
  sha256 "8a6846610f8858d828e29c2f86d142e5e6b2661b11a3b810727a3c71dc644fea"
  license "NOASSERTION"

  on_macos do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.9.2/localstack-cli-4.9.2-darwin-amd64.tar.gz"
      sha256 "1c50e3523604ab723edc4825767bf02049c91622362c4bbbd6d95e77610007b7"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.9.2/localstack-cli-4.9.2-darwin-arm64.tar.gz"
      sha256 "895e56c5257026cb345f8f0b049067397145e5acf651bc0cedcb0228d86c0d5d"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.9.2/localstack-cli-4.9.2-linux-amd64.tar.gz"
      sha256 "e76e568a1de6acbec261be854af8dbada83a18f447cf25137d261d832e3fb668"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.9.2/localstack-cli-4.9.2-linux-arm64.tar.gz"
      sha256 "71cbfe0ceea01b9c70228d29d817bad0e97f6c75680ccf0e89219cf7e39aa29e"
    end
  end

  def install
    libexec.install Dir["*"]
        bin.install_symlink libexec/"localstack"
        generate_completions_from_executable(bin/"localstack", "completion")
  end

  test do
    assert_match /LocalStack Command Line Interface/, shell_output("#{bin}/localstack --help", 0)
  end
end
