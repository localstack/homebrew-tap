# typed: true
# frozen_string_literal: true

# This file was generated by Homebrew Releaser. DO NOT EDIT.
class LocalstackCli < Formula
  desc "Localstack cli packaged using pyinstaller"
  homepage "https://github.com/localstack/localstack-cli"
  url "https://github.com/localstack/localstack-cli/archive/refs/tags/v4.11.1.tar.gz"
  version "4.11.1"
  sha256 "1a06e0f2b30ff25fa123a36b9b0f2e0902b56db2986e0f60b37a06234ac26f6e"
  license "NOASSERTION"

  on_macos do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.11.1/localstack-cli-4.11.1-darwin-amd64.tar.gz"
      sha256 "dcd8e9ae26bb68775f579beb9bbfaf80086423e79472f5e96093cf421c0940d2"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.11.1/localstack-cli-4.11.1-darwin-arm64.tar.gz"
      sha256 "815aef70792825b475a9bde48a878d28e1a6fd47d15ed9b4d247b0494e6dc271"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.11.1/localstack-cli-4.11.1-linux-amd64.tar.gz"
      sha256 "693ef8f9a22f09b6c96bea900833cfdaf943ab3a56491ccdedad46cf2d9b024e"
    end

    on_arm do
      url "https://github.com/localstack/localstack-cli/releases/download/v4.11.1/localstack-cli-4.11.1-linux-arm64.tar.gz"
      sha256 "87af4293f10812ca2b609a13fa2790b0b121991ac63c6c554ec5155b9366b05b"
    end
  end

  def install
    libexec.install Dir["*"]
        bin.install_symlink libexec/"localstack"
        generate_completions_from_executable(bin/"localstack", "completion")
  end

  test do
    assert_match /LocalStack Command Line Interface/, shell_output("#{bin}/localstack --help", 0)
  end
end
